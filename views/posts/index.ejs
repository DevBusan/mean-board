<!-- new.ejs -->

<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<% include ../partials/head %>
</head>
<body>
	<% include ../partials/nav %>

	<div class="posts posts-index container">
		<% include ./partials/title %>

		<table class="table table-striped table-hover">
			<thead>
				<tr>
					<th width="100px">No.</th>
					<th>Title</th>
					<th width="100px">Created</th>
				</tr>
			</thead>
			<tbody>
				<% if (posts == null || posts.length == 0) { %>
				<tr>
					<td colspan=100 class="info"><center>" Let's create the post ! "</center></td>
				</tr>
				<% } %>
				<% posts.forEach(function(post, index) { %>
				<tr>
					<td><%= index+1 %></td>
					<td><a href="/posts/<%= post._id %>"><%= post.title %></a></td>
					<td><%= post.createdDate %></td>
				<% }) %>
				</tr>
			</tbody>
		</table>

		<ul class="pagination pagination-sm">
				<%
					for (var i = 1; i <= pageNum; i++) {
						if (i == curPage) {
				%>
						<li class="active"><a href="#"><%=i%></a></li>
				<%
			} else {
				%>
					<li><a href="/posts?curPage=<%=i%>"><%=i%></a></li>
			 	<%
			}
					}
				%>
			</ul>

		<div class="pull-right">
			<a href="/posts/new" class="btn btn-default">New</a>
		</div>
	</div>
</body>
</html>
